import{_ as k,r as F,o as l,c as o,e as u,t as d,m as h,E as f,d as r,F as p,n as c,M as S,Z as B,L as D,D as b}from"./app.af9ff86b.js";const V={props:{fmVersionArr:Array,deviceFilter:Array,mainList:Boolean,hasFirmwares:Object,hasFirmwareFilters:Boolean,show:Object,devOptions:Object},data(){return{loadedFirmwares:[0,100],versionArr:[],versionHeaderStr:"Firmware Versions",optionsObjStr:{showBuildNumber:"Show build numbers",showVersionString:"Show version numbers",showReleasedString:"Show release dates",showSigningStatus:"Show signing status",showTweetButton:"Show Tweet button"},options:{showBuildNumber:!1,showVersionString:!0,showReleasedString:!0,showSigningStatus:!0,showRelease:!0,showBeta:!1,showInternal:!1,showTweetButton:!1,searchStr:"",showFilter:!1,filterDev:[]}}},computed:{optionsObj(){return["showBuildNumber","showVersionString","showReleasedString","showSigningStatus","showTweetButton"].map(a=>({label:this.optionsObjStr[a],model:a,display:!0}))}},methods:{filterVersions(){this.versionArr=this.fmVersionArr.filter(i=>(i.internal?this.options.showInternal:i.beta||i.rc?this.options.showBeta:this.options.showRelease)&&i.deviceFilterArr.some(w=>this.options.filterDev.includes(w))&&[i.osStr,i.version,i.build].join(" ").toLowerCase().includes(this.options.searchStr.toLowerCase())),this.$route.query;let a=[["release",this.options.showRelease],["beta",this.options.showBeta],["internal",this.options.showInternal]],e=a.filter(i=>i[1]).map(i=>i[0]);e.length==a.length&&(e=[]),this.deviceFilter.length!=this.options.filterDev.length&&e.push(...this.options.filterDev),e=e.length?{filter:e.join(";")}:{},this.$router.push({query:e})}},mounted(){let a={releaseBetaInternalFilter:!1,deviceFilter:!1},e=this.$route.query;e&&e.filter&&e.filter.length&&(e=e.filter.split(";"),e.some(i=>["release","beta","internal"].includes(i))&&(a.releaseBetaInternalFilter=!0,this.options.showRelease=e.includes("release"),this.options.showBeta=e.includes("beta"),this.options.showInternal=e.includes("internal")),e.some(i=>this.deviceFilter.map(w=>w.value).includes(i))&&(a.deviceFilter=!0,this.options.filterDev=e.filter(i=>this.deviceFilter.map(w=>w.value).includes(i)))),a.deviceFilter||(this.options.filterDev=this.deviceFilter.map(i=>i.value)),a.releaseBetaInternalFilter||(this.show&&this.show.releaseType?(this.options.showBeta=this.show.releaseType.includes("beta"),this.options.showInternal=this.show.releaseType.includes("internal")):this.hasFirmwareFilters||(this.options.showRelease=this.hasFirmwares.release,this.options.showBeta=this.hasFirmwares.beta,this.options.showInternal=this.hasFirmwares.internal)),this.filterVersions()}},C={key:0,style:{"margin-bottom":".3em"}},I={key:1,class:"optionsWrapper"},O={class:"hoverElement filterList"},A=["onClick"],R={class:"textWrapper"},T={class:"iconWrapper noBorder"},L={class:"textWrapper"},j=["onClick"],x={class:"textWrapper"},W={key:2,class:"optionsWrapper filterListHorizontal"},N=["onClick"],q={key:3,style:{display:"flex",padding:"1em","padding-top":"1.5em"}},z={style:{"margin-left":"auto"}};function E(a,e,i,w,s,v){const g=F("firmwareVersionTableElement"),y=F("hiddenOptions");return l(),o(p,null,[i.mainList?h("",!0):(l(),o("h5",C,[u(d(s.versionHeaderStr)+" ",1),i.hasFirmwareFilters?h("",!0):(l(),o("i",{key:0,class:"fas fa-sort",style:{"margin-inline":"10px","font-size":"1em",cursor:"pointer"},onClick:e[0]||(e[0]=t=>s.versionArr.reverse())}))])),i.hasFirmwareFilters?(l(),o("div",I,[i.hasFirmwares.release?(l(),o("div",{key:0,class:f([s.options.showRelease?"active":"","release","btn","sbiFilter"]),onClick:e[1]||(e[1]=t=>{s.options.showRelease=!s.options.showRelease,v.filterVersions()})},e[12]||(e[12]=[r("i",{class:"fas fa-circle release"},null,-1),u(" Release ",-1)]),2)):h("",!0),i.hasFirmwares.beta?(l(),o("div",{key:1,class:f([s.options.showBeta?"active":"","beta","btn","sbiFilter"]),onClick:e[2]||(e[2]=t=>{s.options.showBeta=!s.options.showBeta,v.filterVersions()})},e[13]||(e[13]=[r("i",{class:"fas fa-circle beta"},null,-1),u(" Beta ",-1)]),2)):h("",!0),i.hasFirmwares.internal?(l(),o("div",{key:2,class:f([s.options.showInternal?"active":"","internal","btn","sbiFilter"]),onClick:e[3]||(e[3]=t=>{s.options.showInternal=!s.options.showInternal,v.filterVersions()})},e[14]||(e[14]=[r("i",{class:"fas fa-circle internal"},null,-1),u(" Internal ",-1)]),2)):h("",!0),e[22]||(e[22]=r("div",{class:"separatorBefore"},null,-1)),r("div",{class:f(["hoverOn",i.deviceFilter.length<2?"show740":""])},[e[18]||(e[18]=r("div",{class:"btn"},[r("i",{class:"fas fa-filter"}),u(" Filter ")],-1)),r("div",O,[(l(),o(p,null,c([{label:"Release",option:"showRelease"},{label:"Beta",option:"showBeta"},{label:"Internal",option:"showInternal"}],t=>r("div",{key:t,class:f(["filterListItem","show740",s.options[t.option]?"active":""]),onClick:n=>{s.options[t.option]=!s.options[t.option],v.filterVersions()}},[r("div",{class:f(["iconWrapper",t.option])},e[15]||(e[15]=[r("i",{class:"fas fa-check"},null,-1)]),2),r("div",R,d(t.label),1)],10,A)),64)),i.deviceFilter.length>1?(l(),o(p,{key:0},[e[17]||(e[17]=r("hr",{class:"show740"},null,-1)),i.deviceFilter.length>4?(l(),o("div",{key:0,class:"filterListItem active",onClick:e[4]||(e[4]=t=>{s.options.filterDev.length==i.deviceFilter.length?s.options.filterDev=[]:s.options.filterDev=i.deviceFilter.map(n=>n.value),v.filterVersions()})},[r("div",T,[r("i",{class:f(`fas fa-border-${s.options.filterDev.length==i.deviceFilter.length?"none":"all"}`)},null,2)]),r("div",L,d(s.options.filterDev.length==i.deviceFilter.length?"Clear":"Select")+" all",1)])):h("",!0),(l(!0),o(p,null,c(i.deviceFilter,t=>(l(),o("div",{key:t,class:f(["filterListItem",s.options.filterDev.includes(t.value)?"active":""]),onClick:n=>{s.options.filterDev=s.options.filterDev.includes(t.value)?s.options.filterDev.filter(m=>m!=t.value):s.options.filterDev.concat(t.value),v.filterVersions()}},[e[16]||(e[16]=r("div",{class:"iconWrapper"},[r("i",{class:"fas fa-check"})],-1)),r("div",x,d(t.label),1)],10,j))),128))],64)):h("",!0)])],2),e[23]||(e[23]=r("div",{class:"separatorAfter"},null,-1)),r("div",{onClick:e[5]||(e[5]=t=>s.versionArr.reverse()),class:"btn"},e[19]||(e[19]=[r("i",{class:"fas fa-sort"},null,-1),u(" Sort ",-1)])),r("div",{onClick:e[8]||(e[8]=t=>a.$refs.fwSearchBar.focus()),class:"btn searchBtn"},[e[20]||(e[20]=r("i",{class:"fas fa-search"},null,-1)),e[21]||(e[21]=u()),S(r("input",{class:"search","onUpdate:modelValue":e[6]||(e[6]=t=>s.options.searchStr=t),placeholder:"Search","aria-placeholder":"Search",onKeyup:e[7]||(e[7]=D(t=>v.filterVersions(),["enter"])),ref:"fwSearchBar"},null,544),[[B,s.options.searchStr]])])])):h("",!0),s.options.showFilter?(l(),o("div",W,[i.deviceFilter.length>4?(l(),o(p,{key:0},[r("div",{class:"btn",onClick:e[9]||(e[9]=t=>{s.options.filterDev=[],v.filterVersions()})},e[24]||(e[24]=[r("i",{class:"fas fa-times",style:{"font-size":".8em","margin-right":"4px"}},null,-1),u(" Clear all ",-1)])),r("div",{class:"btn",onClick:e[10]||(e[10]=t=>{s.options.filterDev=i.deviceFilter.map(n=>n.value),v.filterVersions()})},e[25]||(e[25]=[r("i",{class:"fas fa-check",style:{"font-size":".8em","margin-right":"4px"}},null,-1),u(" Select all ",-1)])),e[26]||(e[26]=r("div",{style:{"border-right":"1px solid var(--c-border)","margin-inline":".5em","margin-block":".4em"}},null,-1))],64)):h("",!0),(l(!0),o(p,null,c(i.deviceFilter,t=>(l(),o("div",{key:t,class:f(["filterBtn","btn",s.options.filterDev.includes(t.value)?"active":""]),onClick:n=>{s.options.filterDev=s.options.filterDev.includes(t.value)?s.options.filterDev.filter(m=>m!=t.value):s.options.filterDev.concat(t.value),v.filterVersions()}},[r("span",null,d(t.label),1)],10,N))),128))])):h("",!0),(l(!0),o(p,null,c(s.versionArr.slice(s.loadedFirmwares[0],s.loadedFirmwares[1]),t=>(l(),b(g,{key:t,fw:t,options:s.options,showDots:s.options.showRelease+s.options.showBeta+s.options.showInternal>1&&i.hasFirmwareFilters,hasFirmwares:i.hasFirmwares,showSingleDownloads:s.versionArr.map(n=>n.filteredDownloads||n.filteredOtas).filter(n=>n.length).length>0||s.versionArr.map(n=>n.preinstalled.some(m=>n.devices.includes(m))).filter(n=>n).length>0},null,8,["fw","options","showDots","hasFirmwares","showSingleDownloads"]))),128)),s.loadedFirmwares[1]<s.versionArr.length?(l(),o("div",q,[r("div",null,"Displaying "+d(s.loadedFirmwares[1])+" firmware versions out of "+d(s.versionArr.length)+".",1),r("div",z,[r("a",{style:{cursor:"pointer"},onClick:e[11]||(e[11]=t=>s.loadedFirmwares[1]+=500)},"Load more")])])):h("",!0),i.devOptions.show?(l(),b(y,{key:4,options:s.options,optionsObj:v.optionsObj,devOptions:i.devOptions,deviceFilter:i.deviceFilter,filterVersions:v.filterVersions},null,8,["options","optionsObj","devOptions","deviceFilter","filterVersions"])):h("",!0)],64)}var K=k(V,[["render",E],["__scopeId","data-v-372ca6dd"],["__file","firmwareVersionTableWrapper.vue"]]);export{K as default};
