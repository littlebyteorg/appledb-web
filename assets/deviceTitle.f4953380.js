import{_ as y,a0 as v,r as h,o as c,c as m,d as l,E as g,F as u,n as I,m as f,t as p,e as _,b as k,w as b,$ as x,D as C}from"./app.af9ff86b.js";const S={props:{color:String,device:Array,title:String,img:Object},data(){return{wrapImg:!1,isDarkMode:v()}},computed:{imgUrlArr(){let a=[];for(let r=0;r<this.img.images.length;r++)this.color&&this.color!=this.img.images[r].id||a.push(`https://img.appledb.dev/device@main/${this.img.key}/${this.img.images[r].id}${this.isDarkMode&&this.img.images[r].dark?"_dark":""}`);return a},buttonContent(){return[{text:"App Store",key:"store",link:this.grabInfo("appLink")[0].url,icon:"fas fa-download",type:"store",active:this.grabInfo("appLink")[0].active}]}},methods:{grabInfo(a){return a=="released"?Array.from(new Set(this.device.map(e=>e[a]).flat())).filter(e=>e).sort().map(e=>{const i=new Date().getTimezoneOffset()*60*1e3+36e5,n=new Date(e).valueOf(),t=new Date(n+i),o=e.split("-"),s=[{year:"numeric"},{year:"numeric",month:"short"},{dateStyle:"medium"}];return new Intl.DateTimeFormat("en-US",s[o.length-1]).format(t)}):Array.from(new Set(this.device.map(r=>r[a]).flat())).sort()},checkWrap(){const a=document.getElementsByClassName("flexImg"),r=document.getElementById("flexInfo").getBoundingClientRect().width,e=document.getElementsByClassName("home")[0]||document.getElementsByClassName("theme-default-content")[0];var i=e.clientWidth-parseFloat(window.getComputedStyle(e).paddingLeft)-parseFloat(window.getComputedStyle(e).paddingRight);let n=0;const t=a.length;let o=0;for(let s=0;s<t;s++)a[s].onload=()=>{o>=t||(n+=a[s].clientWidth,this.wrapImg=i<r+n+100,o++)};window.onresize=()=>{i=i=e.clientWidth-parseFloat(window.getComputedStyle(e).paddingLeft)-parseFloat(window.getComputedStyle(e).paddingRight),this.wrapImg=i<r+n+100}}},mounted(){this.checkWrap()}},A=["srcset"],D=["srcset"],W=["src"];function B(a,r,e,i,n,t){const o=h("router-link"),s=h("buttons");return c(),m(u,null,[l("div",{class:"header",style:x({"flex-direction":n.wrapImg?"column-reverse":"row"})},[t.imgUrlArr.length?(c(),m("div",{key:0,class:g(n.wrapImg?"imgWrap":"")},[(c(!0),m(u,null,I(t.imgUrlArr.slice(0,3),(d,w)=>(c(),m("picture",{key:d},[l("source",{srcset:d+".avif",type:"image/avif"},null,8,A),l("source",{srcset:d+".webp",type:"image/webp"},null,8,D),l("img",{src:d+".png",class:g(`flexImg flexImg${w}`)},null,10,W)]))),128))],2)):f("",!0),l("div",{class:g(["title",n.wrapImg||t.imgUrlArr.length<1?"":"titleWidth"]),id:"flexInfo"},[l("h1",null,p(e.title),1),l("div",null,[t.grabInfo("released")[0]?(c(),m(u,{key:0},[_(p(t.grabInfo("released")[0])+" \u2014 ",1)],64)):f("",!0),k(o,{to:`/device-selection/${t.grabInfo("type")[0].replace(/ /g,"-")}.html`},{default:b(()=>[_(p(t.grabInfo("type")[0]),1)]),_:1},8,["to"])])],2)],4),t.grabInfo("appLink")[0]!=null?(c(),C(s,{key:0,content:t.buttonContent,class:"wrap"},null,8,["content"])):f("",!0)],64)}var L=y(S,[["render",B],["__scopeId","data-v-c1615ef4"],["__file","deviceTitle.vue"]]);export{L as default};
